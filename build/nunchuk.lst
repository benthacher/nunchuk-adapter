ARM GAS  /tmp/ccqhUcUe.s 			page 1


   1              		.cpu cortex-m0plus
   2              		.arch armv6s-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 0
  12              		.eabi_attribute 18, 4
  13              		.file	"nunchuk.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "Middlewares/nunchuk/Src/nunchuk.c"
  18              		.section	.text.clamp_input,"ax",%progbits
  19              		.align	1
  20              		.global	clamp_input
  21              		.syntax unified
  22              		.code	16
  23              		.thumb_func
  25              	clamp_input:
  26              	.LVL0:
  27              	.LFB366:
   1:Middlewares/nunchuk/Src/nunchuk.c **** #include "nunchuk.h"
   2:Middlewares/nunchuk/Src/nunchuk.c **** #include "nunchuk_devices.h"
   3:Middlewares/nunchuk/Src/nunchuk.c **** #include "main.h"
   4:Middlewares/nunchuk/Src/nunchuk.c **** #include "i2c.h"
   5:Middlewares/nunchuk/Src/nunchuk.c **** #include "string.h"
   6:Middlewares/nunchuk/Src/nunchuk.c **** #include "gpio.h"
   7:Middlewares/nunchuk/Src/nunchuk.c **** 
   8:Middlewares/nunchuk/Src/nunchuk.c **** // device ids
   9:Middlewares/nunchuk/Src/nunchuk.c **** static const uint8_t NUNCHUK_STANDARD_ID[6] = { 0x00, 0x00, 0xA4, 0x20, 0x00, 0x00 };
  10:Middlewares/nunchuk/Src/nunchuk.c **** static const uint8_t NUNCHUK_CLASSIC_ID[6] = { 0x01, 0x00, 0xA4, 0x20, 0x01, 0x01 };
  11:Middlewares/nunchuk/Src/nunchuk.c **** static const uint8_t NUNCHUK_GUITAR_HERO_ID[6] = { 0x00, 0x00, 0xA4, 0x20, 0x01, 0x03 };
  12:Middlewares/nunchuk/Src/nunchuk.c **** 
  13:Middlewares/nunchuk/Src/nunchuk.c **** int clamp_input(int input, int min, int max) {
  28              		.loc 1 13 46 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  14:Middlewares/nunchuk/Src/nunchuk.c ****     if (input > max)
  33              		.loc 1 14 5 view .LVU1
  34              		.loc 1 14 8 is_stmt 0 view .LVU2
  35 0000 9042     		cmp	r0, r2
  36 0002 02DC     		bgt	.L3
  15:Middlewares/nunchuk/Src/nunchuk.c ****         return max;
  16:Middlewares/nunchuk/Src/nunchuk.c ****     if (input < min)
  37              		.loc 1 16 5 is_stmt 1 view .LVU3
  38              		.loc 1 16 8 is_stmt 0 view .LVU4
  39 0004 8842     		cmp	r0, r1
  40 0006 02DB     		blt	.L4
  41              	.LVL1:
  42              	.L1:
ARM GAS  /tmp/ccqhUcUe.s 			page 2


  17:Middlewares/nunchuk/Src/nunchuk.c ****         return min;
  18:Middlewares/nunchuk/Src/nunchuk.c ****     return input;
  19:Middlewares/nunchuk/Src/nunchuk.c **** }
  43              		.loc 1 19 1 view .LVU5
  44              		@ sp needed
  45 0008 7047     		bx	lr
  46              	.LVL2:
  47              	.L3:
  15:Middlewares/nunchuk/Src/nunchuk.c ****         return max;
  48              		.loc 1 15 16 view .LVU6
  49 000a 1000     		movs	r0, r2
  50              	.LVL3:
  15:Middlewares/nunchuk/Src/nunchuk.c ****         return max;
  51              		.loc 1 15 16 view .LVU7
  52 000c FCE7     		b	.L1
  53              	.LVL4:
  54              	.L4:
  17:Middlewares/nunchuk/Src/nunchuk.c ****         return min;
  55              		.loc 1 17 16 view .LVU8
  56 000e 0800     		movs	r0, r1
  57              	.LVL5:
  17:Middlewares/nunchuk/Src/nunchuk.c ****         return min;
  58              		.loc 1 17 16 view .LVU9
  59 0010 FAE7     		b	.L1
  60              		.cfi_endproc
  61              	.LFE366:
  63              		.section	.text.nunchuk_reg_write,"ax",%progbits
  64              		.align	1
  65              		.global	nunchuk_reg_write
  66              		.syntax unified
  67              		.code	16
  68              		.thumb_func
  70              	nunchuk_reg_write:
  71              	.LVL6:
  72              	.LFB367:
  20:Middlewares/nunchuk/Src/nunchuk.c **** 
  21:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_reg_write(uint8_t addr, uint8_t data) {
  73              		.loc 1 21 65 is_stmt 1 view -0
  74              		.cfi_startproc
  75              		@ args = 0, pretend = 0, frame = 8
  76              		@ frame_needed = 0, uses_anonymous_args = 0
  77              		.loc 1 21 65 is_stmt 0 view .LVU11
  78 0000 00B5     		push	{lr}
  79              	.LCFI0:
  80              		.cfi_def_cfa_offset 4
  81              		.cfi_offset 14, -4
  82 0002 85B0     		sub	sp, sp, #20
  83              	.LCFI1:
  84              		.cfi_def_cfa_offset 24
  22:Middlewares/nunchuk/Src/nunchuk.c ****     uint8_t to_send[2] = { addr, data };
  85              		.loc 1 22 5 is_stmt 1 view .LVU12
  86              		.loc 1 22 13 is_stmt 0 view .LVU13
  87 0004 6B46     		mov	r3, sp
  88 0006 1873     		strb	r0, [r3, #12]
  89 0008 5973     		strb	r1, [r3, #13]
  23:Middlewares/nunchuk/Src/nunchuk.c **** 
  24:Middlewares/nunchuk/Src/nunchuk.c ****     // write register address and data to nunchuk
ARM GAS  /tmp/ccqhUcUe.s 			page 3


  25:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_I2C_Master_Transmit(&hi2c2, NUNCHUK_I2C_ADDR, to_send, sizeof(to_send), NUNCHUK_TX_T
  90              		.loc 1 25 5 is_stmt 1 view .LVU14
  91              		.loc 1 25 12 is_stmt 0 view .LVU15
  92 000a 0548     		ldr	r0, .L6
  93              	.LVL7:
  94              		.loc 1 25 12 view .LVU16
  95 000c FA23     		movs	r3, #250
  96              	.LVL8:
  97              		.loc 1 25 12 view .LVU17
  98 000e 9B00     		lsls	r3, r3, #2
  99 0010 0093     		str	r3, [sp]
 100 0012 0223     		movs	r3, #2
 101 0014 03AA     		add	r2, sp, #12
 102 0016 A421     		movs	r1, #164
 103              	.LVL9:
 104              		.loc 1 25 12 view .LVU18
 105 0018 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 106              	.LVL10:
  26:Middlewares/nunchuk/Src/nunchuk.c **** }
 107              		.loc 1 26 1 view .LVU19
 108 001c 05B0     		add	sp, sp, #20
 109              		@ sp needed
 110 001e 00BD     		pop	{pc}
 111              	.L7:
 112              		.align	2
 113              	.L6:
 114 0020 00000000 		.word	hi2c2
 115              		.cfi_endproc
 116              	.LFE367:
 118              		.section	.text.nunchuk_packet_read,"ax",%progbits
 119              		.align	1
 120              		.global	nunchuk_packet_read
 121              		.syntax unified
 122              		.code	16
 123              		.thumb_func
 125              	nunchuk_packet_read:
 126              	.LVL11:
 127              	.LFB368:
  27:Middlewares/nunchuk/Src/nunchuk.c **** 
  28:Middlewares/nunchuk/Src/nunchuk.c **** /**
  29:Middlewares/nunchuk/Src/nunchuk.c ****  * @brief Reads a 6 byte packet from an address in the nunchuk
  30:Middlewares/nunchuk/Src/nunchuk.c ****  * 
  31:Middlewares/nunchuk/Src/nunchuk.c ****  * @param addr Address of packet
  32:Middlewares/nunchuk/Src/nunchuk.c ****  * @param packet Pointer to packet
  33:Middlewares/nunchuk/Src/nunchuk.c ****  * @param wait_time_ms Time to wait between sending the address and receiving the packet
  34:Middlewares/nunchuk/Src/nunchuk.c ****  * @return HAL_StatusTypeDef 
  35:Middlewares/nunchuk/Src/nunchuk.c ****  */
  36:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_packet_read(uint8_t addr, nunchuk_packet_t* packet, int wait_time_ms) {
 128              		.loc 1 36 97 is_stmt 1 view -0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 8
 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              		.loc 1 36 97 is_stmt 0 view .LVU21
 133 0000 30B5     		push	{r4, r5, lr}
 134              	.LCFI2:
 135              		.cfi_def_cfa_offset 12
 136              		.cfi_offset 4, -12
ARM GAS  /tmp/ccqhUcUe.s 			page 4


 137              		.cfi_offset 5, -8
 138              		.cfi_offset 14, -4
 139 0002 85B0     		sub	sp, sp, #20
 140              	.LCFI3:
 141              		.cfi_def_cfa_offset 32
 142 0004 0C00     		movs	r4, r1
 143 0006 1500     		movs	r5, r2
 144 0008 0F22     		movs	r2, #15
 145              	.LVL12:
 146              		.loc 1 36 97 view .LVU22
 147 000a 6A44     		add	r2, r2, sp
 148 000c 1070     		strb	r0, [r2]
  37:Middlewares/nunchuk/Src/nunchuk.c ****     // write register address to nunchuk
  38:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = HAL_I2C_Master_Transmit(&hi2c2, NUNCHUK_I2C_ADDR, (uint8_t*) &addr, 1, 
 149              		.loc 1 38 5 is_stmt 1 view .LVU23
 150              		.loc 1 38 29 is_stmt 0 view .LVU24
 151 000e 0C48     		ldr	r0, .L11
 152              	.LVL13:
 153              		.loc 1 38 29 view .LVU25
 154 0010 FA23     		movs	r3, #250
 155 0012 9B00     		lsls	r3, r3, #2
 156 0014 0093     		str	r3, [sp]
 157              	.LVL14:
 158              		.loc 1 38 29 view .LVU26
 159 0016 0123     		movs	r3, #1
 160 0018 A421     		movs	r1, #164
 161              	.LVL15:
 162              		.loc 1 38 29 view .LVU27
 163 001a FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 164              	.LVL16:
  39:Middlewares/nunchuk/Src/nunchuk.c ****     
  40:Middlewares/nunchuk/Src/nunchuk.c ****     if (ret != HAL_OK)
 165              		.loc 1 40 5 is_stmt 1 view .LVU28
 166              		.loc 1 40 8 is_stmt 0 view .LVU29
 167 001e 0028     		cmp	r0, #0
 168 0020 01D0     		beq	.L10
 169              	.LVL17:
 170              	.L9:
  41:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
  42:Middlewares/nunchuk/Src/nunchuk.c **** 
  43:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_Delay(wait_time_ms);
  44:Middlewares/nunchuk/Src/nunchuk.c **** 
  45:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_I2C_Master_Receive(&hi2c2, NUNCHUK_I2C_ADDR, (uint8_t*) packet, NUNCHUK_PACKET_LEN, 
  46:Middlewares/nunchuk/Src/nunchuk.c **** }
 171              		.loc 1 46 1 view .LVU30
 172 0022 05B0     		add	sp, sp, #20
 173              		@ sp needed
 174              	.LVL18:
 175              	.LVL19:
 176              		.loc 1 46 1 view .LVU31
 177 0024 30BD     		pop	{r4, r5, pc}
 178              	.LVL20:
 179              	.L10:
  43:Middlewares/nunchuk/Src/nunchuk.c **** 
 180              		.loc 1 43 5 is_stmt 1 view .LVU32
 181 0026 2800     		movs	r0, r5
 182              	.LVL21:
ARM GAS  /tmp/ccqhUcUe.s 			page 5


  43:Middlewares/nunchuk/Src/nunchuk.c **** 
 183              		.loc 1 43 5 is_stmt 0 view .LVU33
 184 0028 FFF7FEFF 		bl	HAL_Delay
 185              	.LVL22:
  45:Middlewares/nunchuk/Src/nunchuk.c **** }
 186              		.loc 1 45 5 is_stmt 1 view .LVU34
  45:Middlewares/nunchuk/Src/nunchuk.c **** }
 187              		.loc 1 45 12 is_stmt 0 view .LVU35
 188 002c 0448     		ldr	r0, .L11
 189 002e FA23     		movs	r3, #250
 190 0030 9B00     		lsls	r3, r3, #2
 191 0032 0093     		str	r3, [sp]
 192 0034 0623     		movs	r3, #6
 193 0036 2200     		movs	r2, r4
 194 0038 A421     		movs	r1, #164
 195 003a FFF7FEFF 		bl	HAL_I2C_Master_Receive
 196              	.LVL23:
 197 003e F0E7     		b	.L9
 198              	.L12:
 199              		.align	2
 200              	.L11:
 201 0040 00000000 		.word	hi2c2
 202              		.cfi_endproc
 203              	.LFE368:
 205              		.section	.text.nunchuk_init,"ax",%progbits
 206              		.align	1
 207              		.global	nunchuk_init
 208              		.syntax unified
 209              		.code	16
 210              		.thumb_func
 212              	nunchuk_init:
 213              	.LVL24:
 214              	.LFB369:
  47:Middlewares/nunchuk/Src/nunchuk.c **** 
  48:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_init(nunchuk_device_type_t *type) {
 215              		.loc 1 48 61 is_stmt 1 view -0
 216              		.cfi_startproc
 217              		@ args = 0, pretend = 0, frame = 8
 218              		@ frame_needed = 0, uses_anonymous_args = 0
 219              		.loc 1 48 61 is_stmt 0 view .LVU37
 220 0000 30B5     		push	{r4, r5, lr}
 221              	.LCFI4:
 222              		.cfi_def_cfa_offset 12
 223              		.cfi_offset 4, -12
 224              		.cfi_offset 5, -8
 225              		.cfi_offset 14, -4
 226 0002 83B0     		sub	sp, sp, #12
 227              	.LCFI5:
 228              		.cfi_def_cfa_offset 24
 229 0004 0400     		movs	r4, r0
  49:Middlewares/nunchuk/Src/nunchuk.c ****     *type = UNKNOWN;
 230              		.loc 1 49 5 is_stmt 1 view .LVU38
 231              		.loc 1 49 11 is_stmt 0 view .LVU39
 232 0006 0023     		movs	r3, #0
 233 0008 0370     		strb	r3, [r0]
  50:Middlewares/nunchuk/Src/nunchuk.c **** 
  51:Middlewares/nunchuk/Src/nunchuk.c ****     // de-encrypt device
ARM GAS  /tmp/ccqhUcUe.s 			page 6


  52:Middlewares/nunchuk/Src/nunchuk.c ****     if (nunchuk_reg_write(0xF0, 0x55) != HAL_OK)
 234              		.loc 1 52 5 is_stmt 1 view .LVU40
 235              		.loc 1 52 9 is_stmt 0 view .LVU41
 236 000a 5521     		movs	r1, #85
 237 000c F020     		movs	r0, #240
 238              	.LVL25:
 239              		.loc 1 52 9 view .LVU42
 240 000e FFF7FEFF 		bl	nunchuk_reg_write
 241              	.LVL26:
 242              		.loc 1 52 8 view .LVU43
 243 0012 0028     		cmp	r0, #0
 244 0014 03D0     		beq	.L20
  53:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
 245              		.loc 1 53 16 view .LVU44
 246 0016 0125     		movs	r5, #1
 247              	.L14:
  54:Middlewares/nunchuk/Src/nunchuk.c **** 
  55:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_Delay(10);
  56:Middlewares/nunchuk/Src/nunchuk.c **** 
  57:Middlewares/nunchuk/Src/nunchuk.c ****     if (nunchuk_reg_write(0xFB, 0x00) != HAL_OK)
  58:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
  59:Middlewares/nunchuk/Src/nunchuk.c **** 
  60:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_Delay(10);
  61:Middlewares/nunchuk/Src/nunchuk.c **** 
  62:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
  63:Middlewares/nunchuk/Src/nunchuk.c ****     // read id packet
  64:Middlewares/nunchuk/Src/nunchuk.c ****     if (nunchuk_packet_read(0xFA, &packet, 10) != HAL_OK)
  65:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
  66:Middlewares/nunchuk/Src/nunchuk.c **** 
  67:Middlewares/nunchuk/Src/nunchuk.c ****     // compare raw packet with ID constants to check the ID, return the ID if it matches
  68:Middlewares/nunchuk/Src/nunchuk.c ****     if (memcmp(packet.raw, NUNCHUK_STANDARD_ID, NUNCHUK_PACKET_LEN) == 0) {
  69:Middlewares/nunchuk/Src/nunchuk.c ****         *type = STANDARD;
  70:Middlewares/nunchuk/Src/nunchuk.c ****     }
  71:Middlewares/nunchuk/Src/nunchuk.c ****     if (memcmp(packet.raw, NUNCHUK_CLASSIC_ID, NUNCHUK_PACKET_LEN) == 0) {
  72:Middlewares/nunchuk/Src/nunchuk.c ****         *type = CLASSIC;
  73:Middlewares/nunchuk/Src/nunchuk.c ****     }
  74:Middlewares/nunchuk/Src/nunchuk.c ****     if (memcmp(packet.raw, NUNCHUK_GUITAR_HERO_ID, NUNCHUK_PACKET_LEN) == 0) {
  75:Middlewares/nunchuk/Src/nunchuk.c ****         *type = GUITAR_HERO;
  76:Middlewares/nunchuk/Src/nunchuk.c ****     }
  77:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK; // even if the type is unknown, it still initialized successfully
  78:Middlewares/nunchuk/Src/nunchuk.c **** }
 248              		.loc 1 78 1 view .LVU45
 249 0018 2800     		movs	r0, r5
 250 001a 03B0     		add	sp, sp, #12
 251              		@ sp needed
 252              	.LVL27:
 253              		.loc 1 78 1 view .LVU46
 254 001c 30BD     		pop	{r4, r5, pc}
 255              	.LVL28:
 256              	.L20:
  55:Middlewares/nunchuk/Src/nunchuk.c **** 
 257              		.loc 1 55 5 is_stmt 1 view .LVU47
 258 001e 0A30     		adds	r0, r0, #10
 259 0020 FFF7FEFF 		bl	HAL_Delay
 260              	.LVL29:
  57:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
 261              		.loc 1 57 5 view .LVU48
ARM GAS  /tmp/ccqhUcUe.s 			page 7


  57:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
 262              		.loc 1 57 9 is_stmt 0 view .LVU49
 263 0024 0021     		movs	r1, #0
 264 0026 FB20     		movs	r0, #251
 265 0028 FFF7FEFF 		bl	nunchuk_reg_write
 266              	.LVL30:
  57:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
 267              		.loc 1 57 8 view .LVU50
 268 002c 0028     		cmp	r0, #0
 269 002e 01D0     		beq	.L21
  58:Middlewares/nunchuk/Src/nunchuk.c **** 
 270              		.loc 1 58 16 view .LVU51
 271 0030 0125     		movs	r5, #1
 272 0032 F1E7     		b	.L14
 273              	.L21:
  60:Middlewares/nunchuk/Src/nunchuk.c **** 
 274              		.loc 1 60 5 is_stmt 1 view .LVU52
 275 0034 0A30     		adds	r0, r0, #10
 276 0036 FFF7FEFF 		bl	HAL_Delay
 277              	.LVL31:
  62:Middlewares/nunchuk/Src/nunchuk.c ****     // read id packet
 278              		.loc 1 62 5 view .LVU53
  64:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
 279              		.loc 1 64 5 view .LVU54
  64:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
 280              		.loc 1 64 9 is_stmt 0 view .LVU55
 281 003a 0A22     		movs	r2, #10
 282 003c 6946     		mov	r1, sp
 283 003e FA20     		movs	r0, #250
 284 0040 FFF7FEFF 		bl	nunchuk_packet_read
 285              	.LVL32:
 286 0044 051E     		subs	r5, r0, #0
  64:Middlewares/nunchuk/Src/nunchuk.c ****         return HAL_ERROR;
 287              		.loc 1 64 8 view .LVU56
 288 0046 1BD1     		bne	.L19
  68:Middlewares/nunchuk/Src/nunchuk.c ****         *type = STANDARD;
 289              		.loc 1 68 5 is_stmt 1 view .LVU57
  68:Middlewares/nunchuk/Src/nunchuk.c ****         *type = STANDARD;
 290              		.loc 1 68 9 is_stmt 0 view .LVU58
 291 0048 0E49     		ldr	r1, .L22
 292 004a 0622     		movs	r2, #6
 293 004c 6846     		mov	r0, sp
 294 004e FFF7FEFF 		bl	memcmp
 295              	.LVL33:
  68:Middlewares/nunchuk/Src/nunchuk.c ****         *type = STANDARD;
 296              		.loc 1 68 8 view .LVU59
 297 0052 0028     		cmp	r0, #0
 298 0054 01D1     		bne	.L15
  69:Middlewares/nunchuk/Src/nunchuk.c ****     }
 299              		.loc 1 69 9 is_stmt 1 view .LVU60
  69:Middlewares/nunchuk/Src/nunchuk.c ****     }
 300              		.loc 1 69 15 is_stmt 0 view .LVU61
 301 0056 0123     		movs	r3, #1
 302 0058 2370     		strb	r3, [r4]
 303              	.L15:
  71:Middlewares/nunchuk/Src/nunchuk.c ****         *type = CLASSIC;
 304              		.loc 1 71 5 is_stmt 1 view .LVU62
ARM GAS  /tmp/ccqhUcUe.s 			page 8


  71:Middlewares/nunchuk/Src/nunchuk.c ****         *type = CLASSIC;
 305              		.loc 1 71 9 is_stmt 0 view .LVU63
 306 005a 0B49     		ldr	r1, .L22+4
 307 005c 0622     		movs	r2, #6
 308 005e 6846     		mov	r0, sp
 309 0060 FFF7FEFF 		bl	memcmp
 310              	.LVL34:
  71:Middlewares/nunchuk/Src/nunchuk.c ****         *type = CLASSIC;
 311              		.loc 1 71 8 view .LVU64
 312 0064 0028     		cmp	r0, #0
 313 0066 01D1     		bne	.L16
  72:Middlewares/nunchuk/Src/nunchuk.c ****     }
 314              		.loc 1 72 9 is_stmt 1 view .LVU65
  72:Middlewares/nunchuk/Src/nunchuk.c ****     }
 315              		.loc 1 72 15 is_stmt 0 view .LVU66
 316 0068 0323     		movs	r3, #3
 317 006a 2370     		strb	r3, [r4]
 318              	.L16:
  74:Middlewares/nunchuk/Src/nunchuk.c ****         *type = GUITAR_HERO;
 319              		.loc 1 74 5 is_stmt 1 view .LVU67
  74:Middlewares/nunchuk/Src/nunchuk.c ****         *type = GUITAR_HERO;
 320              		.loc 1 74 9 is_stmt 0 view .LVU68
 321 006c 0749     		ldr	r1, .L22+8
 322 006e 0622     		movs	r2, #6
 323 0070 6846     		mov	r0, sp
 324 0072 FFF7FEFF 		bl	memcmp
 325              	.LVL35:
  74:Middlewares/nunchuk/Src/nunchuk.c ****         *type = GUITAR_HERO;
 326              		.loc 1 74 8 view .LVU69
 327 0076 0028     		cmp	r0, #0
 328 0078 CED1     		bne	.L14
  75:Middlewares/nunchuk/Src/nunchuk.c ****     }
 329              		.loc 1 75 9 is_stmt 1 view .LVU70
  75:Middlewares/nunchuk/Src/nunchuk.c ****     }
 330              		.loc 1 75 15 is_stmt 0 view .LVU71
 331 007a 0223     		movs	r3, #2
 332 007c 2370     		strb	r3, [r4]
 333 007e CBE7     		b	.L14
 334              	.L19:
  65:Middlewares/nunchuk/Src/nunchuk.c **** 
 335              		.loc 1 65 16 view .LVU72
 336 0080 0125     		movs	r5, #1
 337 0082 C9E7     		b	.L14
 338              	.L23:
 339              		.align	2
 340              	.L22:
 341 0084 00000000 		.word	NUNCHUK_STANDARD_ID
 342 0088 00000000 		.word	NUNCHUK_CLASSIC_ID
 343 008c 00000000 		.word	NUNCHUK_GUITAR_HERO_ID
 344              		.cfi_endproc
 345              	.LFE369:
 347              		.section	.text.nunchuk_fill_standard,"ax",%progbits
 348              		.align	1
 349              		.global	nunchuk_fill_standard
 350              		.syntax unified
 351              		.code	16
 352              		.thumb_func
ARM GAS  /tmp/ccqhUcUe.s 			page 9


 354              	nunchuk_fill_standard:
 355              	.LVL36:
 356              	.LFB373:
  79:Middlewares/nunchuk/Src/nunchuk.c **** 
  80:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_read_standard(nunchuk_standard_t* std) {
  81:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
  82:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
  83:Middlewares/nunchuk/Src/nunchuk.c **** 
  84:Middlewares/nunchuk/Src/nunchuk.c ****     if (ret != HAL_OK)
  85:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
  86:Middlewares/nunchuk/Src/nunchuk.c ****     
  87:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_fill_standard(&packet, std);
  88:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
  89:Middlewares/nunchuk/Src/nunchuk.c **** }
  90:Middlewares/nunchuk/Src/nunchuk.c **** 
  91:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_read_classic(nunchuk_classic_t* cc) {
  92:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
  93:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
  94:Middlewares/nunchuk/Src/nunchuk.c **** 
  95:Middlewares/nunchuk/Src/nunchuk.c ****     if (ret != HAL_OK)
  96:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
  97:Middlewares/nunchuk/Src/nunchuk.c ****     
  98:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_fill_classic(&packet, cc);
  99:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 100:Middlewares/nunchuk/Src/nunchuk.c **** }
 101:Middlewares/nunchuk/Src/nunchuk.c **** 
 102:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_read_guitar_hero(nunchuk_guitar_hero_t* gh) {
 103:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
 104:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
 105:Middlewares/nunchuk/Src/nunchuk.c **** 
 106:Middlewares/nunchuk/Src/nunchuk.c ****     if (ret != HAL_OK)
 107:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
 108:Middlewares/nunchuk/Src/nunchuk.c ****     
 109:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_fill_guitar_hero(&packet, gh);
 110:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 111:Middlewares/nunchuk/Src/nunchuk.c **** }
 112:Middlewares/nunchuk/Src/nunchuk.c **** 
 113:Middlewares/nunchuk/Src/nunchuk.c **** void nunchuk_fill_standard(nunchuk_packet_t* packet, nunchuk_standard_t* std) {
 357              		.loc 1 113 79 is_stmt 1 view -0
 358              		.cfi_startproc
 359              		@ args = 0, pretend = 0, frame = 0
 360              		@ frame_needed = 0, uses_anonymous_args = 0
 361              		.loc 1 113 79 is_stmt 0 view .LVU74
 362 0000 70B5     		push	{r4, r5, r6, lr}
 363              	.LCFI6:
 364              		.cfi_def_cfa_offset 16
 365              		.cfi_offset 4, -16
 366              		.cfi_offset 5, -12
 367              		.cfi_offset 6, -8
 368              		.cfi_offset 14, -4
 114:Middlewares/nunchuk/Src/nunchuk.c ****     std->ax = (packet->standard_controller.ax_9_2 << 2) |
 369              		.loc 1 114 5 is_stmt 1 view .LVU75
 370              		.loc 1 114 43 is_stmt 0 view .LVU76
 371 0002 8278     		ldrb	r2, [r0, #2]
 372              		.loc 1 114 51 view .LVU77
 373 0004 9200     		lsls	r2, r2, #2
 115:Middlewares/nunchuk/Src/nunchuk.c ****               (packet->standard_controller.ax_1_0);
ARM GAS  /tmp/ccqhUcUe.s 			page 10


 374              		.loc 1 115 43 view .LVU78
 375 0006 8379     		ldrb	r3, [r0, #6]
 376 0008 9B07     		lsls	r3, r3, #30
 377 000a 9B0F     		lsrs	r3, r3, #30
 114:Middlewares/nunchuk/Src/nunchuk.c ****     std->ax = (packet->standard_controller.ax_9_2 << 2) |
 378              		.loc 1 114 57 view .LVU79
 379 000c 1343     		orrs	r3, r2
 114:Middlewares/nunchuk/Src/nunchuk.c ****     std->ax = (packet->standard_controller.ax_9_2 << 2) |
 380              		.loc 1 114 13 view .LVU80
 381 000e 4B80     		strh	r3, [r1, #2]
 116:Middlewares/nunchuk/Src/nunchuk.c ****     std->ay = (packet->standard_controller.ay_9_2 << 2) |
 382              		.loc 1 116 5 is_stmt 1 view .LVU81
 383              		.loc 1 116 43 is_stmt 0 view .LVU82
 384 0010 C278     		ldrb	r2, [r0, #3]
 385              		.loc 1 116 51 view .LVU83
 386 0012 9200     		lsls	r2, r2, #2
 117:Middlewares/nunchuk/Src/nunchuk.c ****               (packet->standard_controller.ay_1_0);
 387              		.loc 1 117 43 view .LVU84
 388 0014 8379     		ldrb	r3, [r0, #6]
 389 0016 1B07     		lsls	r3, r3, #28
 390 0018 9B0F     		lsrs	r3, r3, #30
 116:Middlewares/nunchuk/Src/nunchuk.c ****     std->ay = (packet->standard_controller.ay_9_2 << 2) |
 391              		.loc 1 116 57 view .LVU85
 392 001a 1343     		orrs	r3, r2
 116:Middlewares/nunchuk/Src/nunchuk.c ****     std->ay = (packet->standard_controller.ay_9_2 << 2) |
 393              		.loc 1 116 13 view .LVU86
 394 001c 8B80     		strh	r3, [r1, #4]
 118:Middlewares/nunchuk/Src/nunchuk.c ****     std->az = (packet->standard_controller.az_9_2 << 2) |
 395              		.loc 1 118 5 is_stmt 1 view .LVU87
 396              		.loc 1 118 43 is_stmt 0 view .LVU88
 397 001e 0279     		ldrb	r2, [r0, #4]
 398              		.loc 1 118 51 view .LVU89
 399 0020 9200     		lsls	r2, r2, #2
 119:Middlewares/nunchuk/Src/nunchuk.c ****               (packet->standard_controller.az_1_0);
 400              		.loc 1 119 43 view .LVU90
 401 0022 8379     		ldrb	r3, [r0, #6]
 402 0024 9B06     		lsls	r3, r3, #26
 403 0026 9B0F     		lsrs	r3, r3, #30
 118:Middlewares/nunchuk/Src/nunchuk.c ****     std->az = (packet->standard_controller.az_9_2 << 2) |
 404              		.loc 1 118 57 view .LVU91
 405 0028 1343     		orrs	r3, r2
 118:Middlewares/nunchuk/Src/nunchuk.c ****     std->az = (packet->standard_controller.az_9_2 << 2) |
 406              		.loc 1 118 13 view .LVU92
 407 002a CB80     		strh	r3, [r1, #6]
 120:Middlewares/nunchuk/Src/nunchuk.c ****     
 121:Middlewares/nunchuk/Src/nunchuk.c ****     std->sx = packet->standard_controller.sx;
 408              		.loc 1 121 5 is_stmt 1 view .LVU93
 409              		.loc 1 121 42 is_stmt 0 view .LVU94
 410 002c 0023     		movs	r3, #0
 411 002e C356     		ldrsb	r3, [r0, r3]
 412              		.loc 1 121 13 view .LVU95
 413 0030 0B70     		strb	r3, [r1]
 122:Middlewares/nunchuk/Src/nunchuk.c ****     std->sy = packet->standard_controller.sy;
 414              		.loc 1 122 5 is_stmt 1 view .LVU96
 415              		.loc 1 122 42 is_stmt 0 view .LVU97
 416 0032 0123     		movs	r3, #1
 417 0034 C356     		ldrsb	r3, [r0, r3]
ARM GAS  /tmp/ccqhUcUe.s 			page 11


 418              		.loc 1 122 13 view .LVU98
 419 0036 4B70     		strb	r3, [r1, #1]
 123:Middlewares/nunchuk/Src/nunchuk.c **** 
 124:Middlewares/nunchuk/Src/nunchuk.c ****     std->buttons.c = !packet->standard_controller.buttons.c;
 420              		.loc 1 124 5 is_stmt 1 view .LVU99
 421              		.loc 1 124 22 is_stmt 0 view .LVU100
 422 0038 4379     		ldrb	r3, [r0, #5]
 423 003a 5B08     		lsrs	r3, r3, #1
 424 003c 0125     		movs	r5, #1
 425 003e 6B40     		eors	r3, r5
 426 0040 0124     		movs	r4, #1
 427              		.loc 1 124 20 view .LVU101
 428 0042 2340     		ands	r3, r4
 429 0044 5B00     		lsls	r3, r3, #1
 430 0046 0A7A     		ldrb	r2, [r1, #8]
 431 0048 0226     		movs	r6, #2
 432 004a B243     		bics	r2, r6
 433 004c 1343     		orrs	r3, r2
 434 004e 0B72     		strb	r3, [r1, #8]
 125:Middlewares/nunchuk/Src/nunchuk.c ****     std->buttons.z = !packet->standard_controller.buttons.z;
 435              		.loc 1 125 5 is_stmt 1 view .LVU102
 436              		.loc 1 125 22 is_stmt 0 view .LVU103
 437 0050 4379     		ldrb	r3, [r0, #5]
 438 0052 6B40     		eors	r3, r5
 439              		.loc 1 125 20 view .LVU104
 440 0054 1C40     		ands	r4, r3
 441 0056 0B7A     		ldrb	r3, [r1, #8]
 442 0058 0122     		movs	r2, #1
 443 005a 9343     		bics	r3, r2
 444 005c 2343     		orrs	r3, r4
 445 005e 0B72     		strb	r3, [r1, #8]
 126:Middlewares/nunchuk/Src/nunchuk.c **** }
 446              		.loc 1 126 1 view .LVU105
 447              		@ sp needed
 448 0060 70BD     		pop	{r4, r5, r6, pc}
 449              		.cfi_endproc
 450              	.LFE373:
 452              		.section	.text.nunchuk_read_standard,"ax",%progbits
 453              		.align	1
 454              		.global	nunchuk_read_standard
 455              		.syntax unified
 456              		.code	16
 457              		.thumb_func
 459              	nunchuk_read_standard:
 460              	.LVL37:
 461              	.LFB370:
  80:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
 462              		.loc 1 80 66 is_stmt 1 view -0
 463              		.cfi_startproc
 464              		@ args = 0, pretend = 0, frame = 8
 465              		@ frame_needed = 0, uses_anonymous_args = 0
  80:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
 466              		.loc 1 80 66 is_stmt 0 view .LVU107
 467 0000 30B5     		push	{r4, r5, lr}
 468              	.LCFI7:
 469              		.cfi_def_cfa_offset 12
 470              		.cfi_offset 4, -12
ARM GAS  /tmp/ccqhUcUe.s 			page 12


 471              		.cfi_offset 5, -8
 472              		.cfi_offset 14, -4
 473 0002 83B0     		sub	sp, sp, #12
 474              	.LCFI8:
 475              		.cfi_def_cfa_offset 24
 476 0004 0500     		movs	r5, r0
  81:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
 477              		.loc 1 81 5 is_stmt 1 view .LVU108
  82:Middlewares/nunchuk/Src/nunchuk.c **** 
 478              		.loc 1 82 5 view .LVU109
  82:Middlewares/nunchuk/Src/nunchuk.c **** 
 479              		.loc 1 82 29 is_stmt 0 view .LVU110
 480 0006 0522     		movs	r2, #5
 481 0008 6946     		mov	r1, sp
 482 000a 0020     		movs	r0, #0
 483              	.LVL38:
  82:Middlewares/nunchuk/Src/nunchuk.c **** 
 484              		.loc 1 82 29 view .LVU111
 485 000c FFF7FEFF 		bl	nunchuk_packet_read
 486              	.LVL39:
 487 0010 041E     		subs	r4, r0, #0
 488              	.LVL40:
  84:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
 489              		.loc 1 84 5 is_stmt 1 view .LVU112
  84:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
 490              		.loc 1 84 8 is_stmt 0 view .LVU113
 491 0012 02D0     		beq	.L27
 492              	.LVL41:
 493              	.L26:
  89:Middlewares/nunchuk/Src/nunchuk.c **** 
 494              		.loc 1 89 1 view .LVU114
 495 0014 2000     		movs	r0, r4
 496 0016 03B0     		add	sp, sp, #12
 497              		@ sp needed
 498              	.LVL42:
  89:Middlewares/nunchuk/Src/nunchuk.c **** 
 499              		.loc 1 89 1 view .LVU115
 500 0018 30BD     		pop	{r4, r5, pc}
 501              	.LVL43:
 502              	.L27:
  87:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 503              		.loc 1 87 5 is_stmt 1 view .LVU116
 504 001a 2900     		movs	r1, r5
 505 001c 6846     		mov	r0, sp
 506              	.LVL44:
  87:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 507              		.loc 1 87 5 is_stmt 0 view .LVU117
 508 001e FFF7FEFF 		bl	nunchuk_fill_standard
 509              	.LVL45:
  88:Middlewares/nunchuk/Src/nunchuk.c **** }
 510              		.loc 1 88 5 is_stmt 1 view .LVU118
  88:Middlewares/nunchuk/Src/nunchuk.c **** }
 511              		.loc 1 88 12 is_stmt 0 view .LVU119
 512 0022 F7E7     		b	.L26
 513              		.cfi_endproc
 514              	.LFE370:
 516              		.section	.text.nunchuk_fill_guitar_hero,"ax",%progbits
ARM GAS  /tmp/ccqhUcUe.s 			page 13


 517              		.align	1
 518              		.global	nunchuk_fill_guitar_hero
 519              		.syntax unified
 520              		.code	16
 521              		.thumb_func
 523              	nunchuk_fill_guitar_hero:
 524              	.LVL46:
 525              	.LFB374:
 127:Middlewares/nunchuk/Src/nunchuk.c **** 
 128:Middlewares/nunchuk/Src/nunchuk.c **** void nunchuk_fill_guitar_hero(nunchuk_packet_t* packet, nunchuk_guitar_hero_t* gh) {
 526              		.loc 1 128 84 is_stmt 1 view -0
 527              		.cfi_startproc
 528              		@ args = 0, pretend = 0, frame = 0
 529              		@ frame_needed = 0, uses_anonymous_args = 0
 530              		.loc 1 128 84 is_stmt 0 view .LVU121
 531 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 532              	.LCFI9:
 533              		.cfi_def_cfa_offset 24
 534              		.cfi_offset 3, -24
 535              		.cfi_offset 4, -20
 536              		.cfi_offset 5, -16
 537              		.cfi_offset 6, -12
 538              		.cfi_offset 7, -8
 539              		.cfi_offset 14, -4
 540 0002 0500     		movs	r5, r0
 541 0004 0C00     		movs	r4, r1
 129:Middlewares/nunchuk/Src/nunchuk.c ****     // if both gh3 fields are all zeros, set gh3 to 1
 130:Middlewares/nunchuk/Src/nunchuk.c ****     gh->gh3 = packet->gh_controller.gh3_0 == 0b11 && packet->gh_controller.gh3_1 == 0b11;
 542              		.loc 1 130 5 is_stmt 1 view .LVU122
 543              		.loc 1 130 43 is_stmt 0 view .LVU123
 544 0006 0378     		ldrb	r3, [r0]
 545 0008 3F22     		movs	r2, #63
 546 000a 9343     		bics	r3, r2
 547              		.loc 1 130 51 view .LVU124
 548 000c C02B     		cmp	r3, #192
 549 000e 00D1     		bne	.LCB458
 550 0010 7AE0     		b	.L32	@long jump
 551              	.LCB458:
 552 0012 0023     		movs	r3, #0
 553              	.L29:
 554              		.loc 1 130 13 discriminator 6 view .LVU125
 555 0014 A370     		strb	r3, [r4, #2]
 131:Middlewares/nunchuk/Src/nunchuk.c **** 
 132:Middlewares/nunchuk/Src/nunchuk.c ****     gh->sx = clamp_input(packet->gh_controller.sx, GH_SX_MIN, GH_SX_MAX);
 556              		.loc 1 132 5 is_stmt 1 discriminator 6 view .LVU126
 557              		.loc 1 132 47 is_stmt 0 discriminator 6 view .LVU127
 558 0016 2878     		ldrb	r0, [r5]
 559              	.LVL47:
 560              		.loc 1 132 47 discriminator 6 view .LVU128
 561 0018 8006     		lsls	r0, r0, #26
 562 001a 800E     		lsrs	r0, r0, #26
 563              		.loc 1 132 14 discriminator 6 view .LVU129
 564 001c 3F22     		movs	r2, #63
 565 001e 0021     		movs	r1, #0
 566              	.LVL48:
 567              		.loc 1 132 14 discriminator 6 view .LVU130
 568 0020 FFF7FEFF 		bl	clamp_input
ARM GAS  /tmp/ccqhUcUe.s 			page 14


 569              	.LVL49:
 570              		.loc 1 132 12 discriminator 6 view .LVU131
 571 0024 2070     		strb	r0, [r4]
 133:Middlewares/nunchuk/Src/nunchuk.c ****     gh->sy = clamp_input(packet->gh_controller.sy, GH_SY_MIN, GH_SY_MAX);
 572              		.loc 1 133 5 is_stmt 1 discriminator 6 view .LVU132
 573              		.loc 1 133 47 is_stmt 0 discriminator 6 view .LVU133
 574 0026 6878     		ldrb	r0, [r5, #1]
 575 0028 8006     		lsls	r0, r0, #26
 576 002a 800E     		lsrs	r0, r0, #26
 577              		.loc 1 133 14 discriminator 6 view .LVU134
 578 002c 3F22     		movs	r2, #63
 579 002e 0021     		movs	r1, #0
 580 0030 FFF7FEFF 		bl	clamp_input
 581              	.LVL50:
 582              		.loc 1 133 12 discriminator 6 view .LVU135
 583 0034 6070     		strb	r0, [r4, #1]
 134:Middlewares/nunchuk/Src/nunchuk.c **** 
 135:Middlewares/nunchuk/Src/nunchuk.c ****     gh->tb = clamp_input(packet->gh_controller.tb, GH_TB_MIN, GH_TB_MAX);
 584              		.loc 1 135 5 is_stmt 1 discriminator 6 view .LVU136
 585              		.loc 1 135 47 is_stmt 0 discriminator 6 view .LVU137
 586 0036 A878     		ldrb	r0, [r5, #2]
 587 0038 C006     		lsls	r0, r0, #27
 588 003a C00E     		lsrs	r0, r0, #27
 589              		.loc 1 135 14 discriminator 6 view .LVU138
 590 003c 1F22     		movs	r2, #31
 591 003e 0021     		movs	r1, #0
 592 0040 FFF7FEFF 		bl	clamp_input
 593              	.LVL51:
 594              		.loc 1 135 12 discriminator 6 view .LVU139
 595 0044 E070     		strb	r0, [r4, #3]
 136:Middlewares/nunchuk/Src/nunchuk.c ****     gh->wb = clamp_input(packet->gh_controller.wb, GH_WB_MIN, GH_WB_MAX);
 596              		.loc 1 136 5 is_stmt 1 discriminator 6 view .LVU140
 597              		.loc 1 136 47 is_stmt 0 discriminator 6 view .LVU141
 598 0046 E878     		ldrb	r0, [r5, #3]
 599 0048 C006     		lsls	r0, r0, #27
 600 004a C00E     		lsrs	r0, r0, #27
 601              		.loc 1 136 14 discriminator 6 view .LVU142
 602 004c 1F22     		movs	r2, #31
 603 004e 0021     		movs	r1, #0
 604 0050 FFF7FEFF 		bl	clamp_input
 605              	.LVL52:
 606              		.loc 1 136 12 discriminator 6 view .LVU143
 607 0054 2071     		strb	r0, [r4, #4]
 137:Middlewares/nunchuk/Src/nunchuk.c **** 
 138:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.plus = !packet->gh_controller.buttons.plus;
 608              		.loc 1 138 5 is_stmt 1 discriminator 6 view .LVU144
 609              		.loc 1 138 24 is_stmt 0 discriminator 6 view .LVU145
 610 0056 2A79     		ldrb	r2, [r5, #4]
 611 0058 9208     		lsrs	r2, r2, #2
 612 005a 0120     		movs	r0, #1
 613 005c 0121     		movs	r1, #1
 614 005e 4A40     		eors	r2, r1
 615 0060 0123     		movs	r3, #1
 616              		.loc 1 138 22 discriminator 6 view .LVU146
 617 0062 1A40     		ands	r2, r3
 618 0064 5201     		lsls	r2, r2, #5
 619 0066 6679     		ldrb	r6, [r4, #5]
ARM GAS  /tmp/ccqhUcUe.s 			page 15


 620 0068 2027     		movs	r7, #32
 621 006a BE43     		bics	r6, r7
 622 006c 3243     		orrs	r2, r6
 623 006e 6271     		strb	r2, [r4, #5]
 139:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.minus = !packet->gh_controller.buttons.minus;
 624              		.loc 1 139 5 is_stmt 1 discriminator 6 view .LVU147
 625              		.loc 1 139 25 is_stmt 0 discriminator 6 view .LVU148
 626 0070 2A79     		ldrb	r2, [r5, #4]
 627 0072 1209     		lsrs	r2, r2, #4
 628 0074 4A40     		eors	r2, r1
 629              		.loc 1 139 23 discriminator 6 view .LVU149
 630 0076 1A40     		ands	r2, r3
 631 0078 9201     		lsls	r2, r2, #6
 632 007a 6679     		ldrb	r6, [r4, #5]
 633 007c 2037     		adds	r7, r7, #32
 634 007e BE43     		bics	r6, r7
 635 0080 3243     		orrs	r2, r6
 636 0082 6271     		strb	r2, [r4, #5]
 140:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.strum_up = !packet->gh_controller.buttons.u;
 637              		.loc 1 140 5 is_stmt 1 discriminator 6 view .LVU150
 638              		.loc 1 140 28 is_stmt 0 discriminator 6 view .LVU151
 639 0084 6E79     		ldrb	r6, [r5, #5]
 640 0086 4E40     		eors	r6, r1
 641              		.loc 1 140 26 discriminator 6 view .LVU152
 642 0088 1E40     		ands	r6, r3
 643 008a A279     		ldrb	r2, [r4, #6]
 644 008c 8243     		bics	r2, r0
 645 008e 3243     		orrs	r2, r6
 646 0090 A271     		strb	r2, [r4, #6]
 141:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.strum_down = !packet->gh_controller.buttons.d;
 647              		.loc 1 141 5 is_stmt 1 discriminator 6 view .LVU153
 648              		.loc 1 141 30 is_stmt 0 discriminator 6 view .LVU154
 649 0092 2A79     		ldrb	r2, [r5, #4]
 650 0094 9209     		lsrs	r2, r2, #6
 651 0096 4A40     		eors	r2, r1
 652 0098 1A40     		ands	r2, r3
 653              		.loc 1 141 28 discriminator 6 view .LVU155
 654 009a D201     		lsls	r2, r2, #7
 655 009c 6779     		ldrb	r7, [r4, #5]
 656 009e 7F26     		movs	r6, #127
 657 00a0 3E40     		ands	r6, r7
 658 00a2 3243     		orrs	r2, r6
 659 00a4 6271     		strb	r2, [r4, #5]
 142:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.green = !packet->gh_controller.buttons.g;
 660              		.loc 1 142 5 is_stmt 1 discriminator 6 view .LVU156
 661              		.loc 1 142 25 is_stmt 0 discriminator 6 view .LVU157
 662 00a6 6A79     		ldrb	r2, [r5, #5]
 663 00a8 1209     		lsrs	r2, r2, #4
 664 00aa 4A40     		eors	r2, r1
 665              		.loc 1 142 23 discriminator 6 view .LVU158
 666 00ac 1A40     		ands	r2, r3
 667 00ae 6679     		ldrb	r6, [r4, #5]
 668 00b0 8643     		bics	r6, r0
 669 00b2 3243     		orrs	r2, r6
 670 00b4 6271     		strb	r2, [r4, #5]
 143:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.red = !packet->gh_controller.buttons.r;
 671              		.loc 1 143 5 is_stmt 1 discriminator 6 view .LVU159
ARM GAS  /tmp/ccqhUcUe.s 			page 16


 672              		.loc 1 143 23 is_stmt 0 discriminator 6 view .LVU160
 673 00b6 6A79     		ldrb	r2, [r5, #5]
 674 00b8 9209     		lsrs	r2, r2, #6
 675 00ba 4A40     		eors	r2, r1
 676              		.loc 1 143 21 discriminator 6 view .LVU161
 677 00bc 1A40     		ands	r2, r3
 678 00be 5200     		lsls	r2, r2, #1
 679 00c0 6079     		ldrb	r0, [r4, #5]
 680 00c2 0226     		movs	r6, #2
 681 00c4 B043     		bics	r0, r6
 682 00c6 0243     		orrs	r2, r0
 683 00c8 6271     		strb	r2, [r4, #5]
 144:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.yellow = !packet->gh_controller.buttons.y;
 684              		.loc 1 144 5 is_stmt 1 discriminator 6 view .LVU162
 685              		.loc 1 144 26 is_stmt 0 discriminator 6 view .LVU163
 686 00ca 6A79     		ldrb	r2, [r5, #5]
 687 00cc D208     		lsrs	r2, r2, #3
 688 00ce 4A40     		eors	r2, r1
 689              		.loc 1 144 24 discriminator 6 view .LVU164
 690 00d0 1A40     		ands	r2, r3
 691 00d2 9200     		lsls	r2, r2, #2
 692 00d4 6079     		ldrb	r0, [r4, #5]
 693 00d6 0236     		adds	r6, r6, #2
 694 00d8 B043     		bics	r0, r6
 695 00da 0243     		orrs	r2, r0
 696 00dc 6271     		strb	r2, [r4, #5]
 145:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.blue = !packet->gh_controller.buttons.b;
 697              		.loc 1 145 5 is_stmt 1 discriminator 6 view .LVU165
 698              		.loc 1 145 24 is_stmt 0 discriminator 6 view .LVU166
 699 00de 6A79     		ldrb	r2, [r5, #5]
 700 00e0 5209     		lsrs	r2, r2, #5
 701 00e2 4A40     		eors	r2, r1
 702              		.loc 1 145 22 discriminator 6 view .LVU167
 703 00e4 1340     		ands	r3, r2
 704 00e6 DB00     		lsls	r3, r3, #3
 705 00e8 6279     		ldrb	r2, [r4, #5]
 706 00ea 0821     		movs	r1, #8
 707 00ec 8A43     		bics	r2, r1
 708 00ee 1343     		orrs	r3, r2
 709 00f0 6371     		strb	r3, [r4, #5]
 146:Middlewares/nunchuk/Src/nunchuk.c ****     gh->buttons.orange = !packet->gh_controller.buttons.o;
 710              		.loc 1 146 5 is_stmt 1 discriminator 6 view .LVU168
 711              		.loc 1 146 26 is_stmt 0 discriminator 6 view .LVU169
 712 00f2 6B79     		ldrb	r3, [r5, #5]
 713 00f4 DB43     		mvns	r3, r3
 714 00f6 DBB2     		uxtb	r3, r3
 715 00f8 DB09     		lsrs	r3, r3, #7
 716              		.loc 1 146 24 discriminator 6 view .LVU170
 717 00fa 1B01     		lsls	r3, r3, #4
 718 00fc 6279     		ldrb	r2, [r4, #5]
 719 00fe 0831     		adds	r1, r1, #8
 720 0100 8A43     		bics	r2, r1
 721 0102 1343     		orrs	r3, r2
 722 0104 6371     		strb	r3, [r4, #5]
 147:Middlewares/nunchuk/Src/nunchuk.c **** }
 723              		.loc 1 147 1 discriminator 6 view .LVU171
 724              		@ sp needed
ARM GAS  /tmp/ccqhUcUe.s 			page 17


 725              	.LVL53:
 726              	.LVL54:
 727              		.loc 1 147 1 discriminator 6 view .LVU172
 728 0106 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 729              	.LVL55:
 730              	.L32:
 130:Middlewares/nunchuk/Src/nunchuk.c **** 
 731              		.loc 1 130 82 discriminator 1 view .LVU173
 732 0108 4378     		ldrb	r3, [r0, #1]
 733 010a 9343     		bics	r3, r2
 130:Middlewares/nunchuk/Src/nunchuk.c **** 
 734              		.loc 1 130 51 discriminator 1 view .LVU174
 735 010c C02B     		cmp	r3, #192
 736 010e 01D0     		beq	.L31
 130:Middlewares/nunchuk/Src/nunchuk.c **** 
 737              		.loc 1 130 51 view .LVU175
 738 0110 0023     		movs	r3, #0
 739 0112 7FE7     		b	.L29
 740              	.L31:
 741 0114 0123     		movs	r3, #1
 742 0116 7DE7     		b	.L29
 743              		.cfi_endproc
 744              	.LFE374:
 746              		.section	.text.nunchuk_read_guitar_hero,"ax",%progbits
 747              		.align	1
 748              		.global	nunchuk_read_guitar_hero
 749              		.syntax unified
 750              		.code	16
 751              		.thumb_func
 753              	nunchuk_read_guitar_hero:
 754              	.LVL56:
 755              	.LFB372:
 102:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
 756              		.loc 1 102 71 is_stmt 1 view -0
 757              		.cfi_startproc
 758              		@ args = 0, pretend = 0, frame = 8
 759              		@ frame_needed = 0, uses_anonymous_args = 0
 102:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
 760              		.loc 1 102 71 is_stmt 0 view .LVU177
 761 0000 30B5     		push	{r4, r5, lr}
 762              	.LCFI10:
 763              		.cfi_def_cfa_offset 12
 764              		.cfi_offset 4, -12
 765              		.cfi_offset 5, -8
 766              		.cfi_offset 14, -4
 767 0002 83B0     		sub	sp, sp, #12
 768              	.LCFI11:
 769              		.cfi_def_cfa_offset 24
 770 0004 0500     		movs	r5, r0
 103:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
 771              		.loc 1 103 5 is_stmt 1 view .LVU178
 104:Middlewares/nunchuk/Src/nunchuk.c **** 
 772              		.loc 1 104 5 view .LVU179
 104:Middlewares/nunchuk/Src/nunchuk.c **** 
 773              		.loc 1 104 29 is_stmt 0 view .LVU180
 774 0006 0522     		movs	r2, #5
 775 0008 6946     		mov	r1, sp
ARM GAS  /tmp/ccqhUcUe.s 			page 18


 776 000a 0020     		movs	r0, #0
 777              	.LVL57:
 104:Middlewares/nunchuk/Src/nunchuk.c **** 
 778              		.loc 1 104 29 view .LVU181
 779 000c FFF7FEFF 		bl	nunchuk_packet_read
 780              	.LVL58:
 781 0010 041E     		subs	r4, r0, #0
 782              	.LVL59:
 106:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
 783              		.loc 1 106 5 is_stmt 1 view .LVU182
 106:Middlewares/nunchuk/Src/nunchuk.c ****         return ret;
 784              		.loc 1 106 8 is_stmt 0 view .LVU183
 785 0012 02D0     		beq	.L35
 786              	.LVL60:
 787              	.L34:
 111:Middlewares/nunchuk/Src/nunchuk.c **** 
 788              		.loc 1 111 1 view .LVU184
 789 0014 2000     		movs	r0, r4
 790 0016 03B0     		add	sp, sp, #12
 791              		@ sp needed
 792              	.LVL61:
 111:Middlewares/nunchuk/Src/nunchuk.c **** 
 793              		.loc 1 111 1 view .LVU185
 794 0018 30BD     		pop	{r4, r5, pc}
 795              	.LVL62:
 796              	.L35:
 109:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 797              		.loc 1 109 5 is_stmt 1 view .LVU186
 798 001a 2900     		movs	r1, r5
 799 001c 6846     		mov	r0, sp
 800              	.LVL63:
 109:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 801              		.loc 1 109 5 is_stmt 0 view .LVU187
 802 001e FFF7FEFF 		bl	nunchuk_fill_guitar_hero
 803              	.LVL64:
 110:Middlewares/nunchuk/Src/nunchuk.c **** }
 804              		.loc 1 110 5 is_stmt 1 view .LVU188
 110:Middlewares/nunchuk/Src/nunchuk.c **** }
 805              		.loc 1 110 12 is_stmt 0 view .LVU189
 806 0022 F7E7     		b	.L34
 807              		.cfi_endproc
 808              	.LFE372:
 810              		.section	.text.nunchuk_fill_classic,"ax",%progbits
 811              		.align	1
 812              		.global	nunchuk_fill_classic
 813              		.syntax unified
 814              		.code	16
 815              		.thumb_func
 817              	nunchuk_fill_classic:
 818              	.LVL65:
 819              	.LFB375:
 148:Middlewares/nunchuk/Src/nunchuk.c **** 
 149:Middlewares/nunchuk/Src/nunchuk.c **** void nunchuk_fill_classic(nunchuk_packet_t* packet, nunchuk_classic_t* cc) {
 820              		.loc 1 149 76 is_stmt 1 view -0
 821              		.cfi_startproc
 822              		@ args = 0, pretend = 0, frame = 0
 823              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccqhUcUe.s 			page 19


 824              		.loc 1 149 76 is_stmt 0 view .LVU191
 825 0000 10B5     		push	{r4, lr}
 826              	.LCFI12:
 827              		.cfi_def_cfa_offset 8
 828              		.cfi_offset 4, -8
 829              		.cfi_offset 14, -4
 150:Middlewares/nunchuk/Src/nunchuk.c ****     cc->lx =  packet->classic_controller.lx;
 830              		.loc 1 150 5 is_stmt 1 view .LVU192
 831              		.loc 1 150 41 is_stmt 0 view .LVU193
 832 0002 0378     		ldrb	r3, [r0]
 833 0004 9B06     		lsls	r3, r3, #26
 834 0006 9B0E     		lsrs	r3, r3, #26
 835              		.loc 1 150 12 view .LVU194
 836 0008 0B70     		strb	r3, [r1]
 151:Middlewares/nunchuk/Src/nunchuk.c ****     cc->ly =  packet->classic_controller.ly;
 837              		.loc 1 151 5 is_stmt 1 view .LVU195
 838              		.loc 1 151 41 is_stmt 0 view .LVU196
 839 000a 4378     		ldrb	r3, [r0, #1]
 840 000c 9B06     		lsls	r3, r3, #26
 841 000e 9B0E     		lsrs	r3, r3, #26
 842              		.loc 1 151 12 view .LVU197
 843 0010 4B70     		strb	r3, [r1, #1]
 152:Middlewares/nunchuk/Src/nunchuk.c ****     cc->rx = (packet->classic_controller.rx_4_3 << 3) |
 844              		.loc 1 152 5 is_stmt 1 view .LVU198
 845              		.loc 1 152 41 is_stmt 0 view .LVU199
 846 0012 0378     		ldrb	r3, [r0]
 847 0014 9B09     		lsrs	r3, r3, #6
 848              		.loc 1 152 49 view .LVU200
 849 0016 DB00     		lsls	r3, r3, #3
 153:Middlewares/nunchuk/Src/nunchuk.c ****               (packet->classic_controller.rx_2_1 << 1) |
 850              		.loc 1 153 42 view .LVU201
 851 0018 4278     		ldrb	r2, [r0, #1]
 852 001a 9209     		lsrs	r2, r2, #6
 853              		.loc 1 153 50 view .LVU202
 854 001c 5200     		lsls	r2, r2, #1
 152:Middlewares/nunchuk/Src/nunchuk.c ****     cc->rx = (packet->classic_controller.rx_4_3 << 3) |
 855              		.loc 1 152 55 view .LVU203
 856 001e 1343     		orrs	r3, r2
 154:Middlewares/nunchuk/Src/nunchuk.c ****               (packet->classic_controller.rx_0);
 857              		.loc 1 154 42 view .LVU204
 858 0020 8278     		ldrb	r2, [r0, #2]
 859 0022 D209     		lsrs	r2, r2, #7
 153:Middlewares/nunchuk/Src/nunchuk.c ****               (packet->classic_controller.rx_2_1 << 1) |
 860              		.loc 1 153 56 view .LVU205
 861 0024 1343     		orrs	r3, r2
 152:Middlewares/nunchuk/Src/nunchuk.c ****     cc->rx = (packet->classic_controller.rx_4_3 << 3) |
 862              		.loc 1 152 12 view .LVU206
 863 0026 8B70     		strb	r3, [r1, #2]
 155:Middlewares/nunchuk/Src/nunchuk.c ****     cc->ry =  packet->classic_controller.ry;
 864              		.loc 1 155 5 is_stmt 1 view .LVU207
 865              		.loc 1 155 41 is_stmt 0 view .LVU208
 866 0028 8378     		ldrb	r3, [r0, #2]
 867 002a DB06     		lsls	r3, r3, #27
 868 002c DB0E     		lsrs	r3, r3, #27
 869              		.loc 1 155 12 view .LVU209
 870 002e CB70     		strb	r3, [r1, #3]
 156:Middlewares/nunchuk/Src/nunchuk.c **** 
ARM GAS  /tmp/ccqhUcUe.s 			page 20


 157:Middlewares/nunchuk/Src/nunchuk.c ****     cc->left_trigger = (packet->classic_controller.lt_4_3 << 3) |
 871              		.loc 1 157 5 is_stmt 1 view .LVU210
 872              		.loc 1 157 51 is_stmt 0 view .LVU211
 873 0030 8378     		ldrb	r3, [r0, #2]
 874 0032 5B06     		lsls	r3, r3, #25
 875 0034 9B0F     		lsrs	r3, r3, #30
 876              		.loc 1 157 59 view .LVU212
 877 0036 DB00     		lsls	r3, r3, #3
 158:Middlewares/nunchuk/Src/nunchuk.c ****                         (packet->classic_controller.lt_2_0);
 878              		.loc 1 158 52 view .LVU213
 879 0038 C278     		ldrb	r2, [r0, #3]
 880 003a 5209     		lsrs	r2, r2, #5
 157:Middlewares/nunchuk/Src/nunchuk.c ****                         (packet->classic_controller.lt_2_0);
 881              		.loc 1 157 65 view .LVU214
 882 003c 1343     		orrs	r3, r2
 157:Middlewares/nunchuk/Src/nunchuk.c ****                         (packet->classic_controller.lt_2_0);
 883              		.loc 1 157 22 view .LVU215
 884 003e 0B71     		strb	r3, [r1, #4]
 159:Middlewares/nunchuk/Src/nunchuk.c ****     cc->right_trigger = packet->classic_controller.rt;
 885              		.loc 1 159 5 is_stmt 1 view .LVU216
 886              		.loc 1 159 51 is_stmt 0 view .LVU217
 887 0040 C378     		ldrb	r3, [r0, #3]
 888 0042 DB06     		lsls	r3, r3, #27
 889 0044 DB0E     		lsrs	r3, r3, #27
 890              		.loc 1 159 23 view .LVU218
 891 0046 4B71     		strb	r3, [r1, #5]
 160:Middlewares/nunchuk/Src/nunchuk.c ****     
 161:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.a =             !packet->classic_controller.buttons.a;
 892              		.loc 1 161 5 is_stmt 1 view .LVU219
 893              		.loc 1 161 33 is_stmt 0 view .LVU220
 894 0048 4479     		ldrb	r4, [r0, #5]
 895 004a 2409     		lsrs	r4, r4, #4
 896 004c 0122     		movs	r2, #1
 897 004e 5440     		eors	r4, r2
 898 0050 0123     		movs	r3, #1
 899 0052 1C40     		ands	r4, r3
 900              		.loc 1 161 19 view .LVU221
 901 0054 8C71     		strb	r4, [r1, #6]
 162:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.b =             !packet->classic_controller.buttons.b;
 902              		.loc 1 162 5 is_stmt 1 view .LVU222
 903              		.loc 1 162 33 is_stmt 0 view .LVU223
 904 0056 4479     		ldrb	r4, [r0, #5]
 905 0058 A409     		lsrs	r4, r4, #6
 906 005a 5440     		eors	r4, r2
 907 005c 1C40     		ands	r4, r3
 908              		.loc 1 162 19 view .LVU224
 909 005e CC71     		strb	r4, [r1, #7]
 163:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.x =             !packet->classic_controller.buttons.x;
 910              		.loc 1 163 5 is_stmt 1 view .LVU225
 911              		.loc 1 163 33 is_stmt 0 view .LVU226
 912 0060 4479     		ldrb	r4, [r0, #5]
 913 0062 E408     		lsrs	r4, r4, #3
 914 0064 5440     		eors	r4, r2
 915 0066 1C40     		ands	r4, r3
 916              		.loc 1 163 19 view .LVU227
 917 0068 0C72     		strb	r4, [r1, #8]
 164:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.y =             !packet->classic_controller.buttons.y;
ARM GAS  /tmp/ccqhUcUe.s 			page 21


 918              		.loc 1 164 5 is_stmt 1 view .LVU228
 919              		.loc 1 164 33 is_stmt 0 view .LVU229
 920 006a 4479     		ldrb	r4, [r0, #5]
 921 006c 6409     		lsrs	r4, r4, #5
 922 006e 5440     		eors	r4, r2
 923 0070 1C40     		ands	r4, r3
 924              		.loc 1 164 19 view .LVU230
 925 0072 4C72     		strb	r4, [r1, #9]
 165:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.plus =          !packet->classic_controller.buttons.plus;
 926              		.loc 1 165 5 is_stmt 1 view .LVU231
 927              		.loc 1 165 33 is_stmt 0 view .LVU232
 928 0074 0479     		ldrb	r4, [r0, #4]
 929 0076 A408     		lsrs	r4, r4, #2
 930 0078 5440     		eors	r4, r2
 931 007a 1C40     		ands	r4, r3
 932              		.loc 1 165 22 view .LVU233
 933 007c 8C72     		strb	r4, [r1, #10]
 166:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.home =          !packet->classic_controller.buttons.h;
 934              		.loc 1 166 5 is_stmt 1 view .LVU234
 935              		.loc 1 166 33 is_stmt 0 view .LVU235
 936 007e 0479     		ldrb	r4, [r0, #4]
 937 0080 E408     		lsrs	r4, r4, #3
 938 0082 5440     		eors	r4, r2
 939 0084 1C40     		ands	r4, r3
 940              		.loc 1 166 22 view .LVU236
 941 0086 CC72     		strb	r4, [r1, #11]
 167:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.minus =         !packet->classic_controller.buttons.minus;
 942              		.loc 1 167 5 is_stmt 1 view .LVU237
 943              		.loc 1 167 33 is_stmt 0 view .LVU238
 944 0088 0479     		ldrb	r4, [r0, #4]
 945 008a 2409     		lsrs	r4, r4, #4
 946 008c 5440     		eors	r4, r2
 947 008e 1C40     		ands	r4, r3
 948              		.loc 1 167 23 view .LVU239
 949 0090 0C73     		strb	r4, [r1, #12]
 168:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.left_trigger =  !packet->classic_controller.buttons.lt;
 950              		.loc 1 168 5 is_stmt 1 view .LVU240
 951              		.loc 1 168 33 is_stmt 0 view .LVU241
 952 0092 0479     		ldrb	r4, [r0, #4]
 953 0094 6409     		lsrs	r4, r4, #5
 954 0096 5440     		eors	r4, r2
 955 0098 1C40     		ands	r4, r3
 956              		.loc 1 168 30 view .LVU242
 957 009a 4C73     		strb	r4, [r1, #13]
 169:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.right_trigger = !packet->classic_controller.buttons.rt;
 958              		.loc 1 169 5 is_stmt 1 view .LVU243
 959              		.loc 1 169 33 is_stmt 0 view .LVU244
 960 009c 0479     		ldrb	r4, [r0, #4]
 961 009e 6408     		lsrs	r4, r4, #1
 962 00a0 5440     		eors	r4, r2
 963 00a2 1C40     		ands	r4, r3
 964              		.loc 1 169 31 view .LVU245
 965 00a4 8C73     		strb	r4, [r1, #14]
 170:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.zl =            !packet->classic_controller.buttons.zl;
 966              		.loc 1 170 5 is_stmt 1 view .LVU246
 967              		.loc 1 170 33 is_stmt 0 view .LVU247
 968 00a6 4479     		ldrb	r4, [r0, #5]
ARM GAS  /tmp/ccqhUcUe.s 			page 22


 969 00a8 E443     		mvns	r4, r4
 970 00aa E4B2     		uxtb	r4, r4
 971 00ac E409     		lsrs	r4, r4, #7
 972              		.loc 1 170 20 view .LVU248
 973 00ae 0C74     		strb	r4, [r1, #16]
 171:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.zr =            !packet->classic_controller.buttons.zr;
 974              		.loc 1 171 5 is_stmt 1 view .LVU249
 975              		.loc 1 171 33 is_stmt 0 view .LVU250
 976 00b0 4479     		ldrb	r4, [r0, #5]
 977 00b2 A408     		lsrs	r4, r4, #2
 978 00b4 5440     		eors	r4, r2
 979 00b6 1C40     		ands	r4, r3
 980              		.loc 1 171 20 view .LVU251
 981 00b8 CC73     		strb	r4, [r1, #15]
 172:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.dpad.down =     !packet->classic_controller.buttons.dd;
 982              		.loc 1 172 5 is_stmt 1 view .LVU252
 983              		.loc 1 172 33 is_stmt 0 view .LVU253
 984 00ba 0479     		ldrb	r4, [r0, #4]
 985 00bc A409     		lsrs	r4, r4, #6
 986 00be 5440     		eors	r4, r2
 987 00c0 1C40     		ands	r4, r3
 988              		.loc 1 172 27 view .LVU254
 989 00c2 4C74     		strb	r4, [r1, #17]
 173:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.dpad.right =    !packet->classic_controller.buttons.dr;
 990              		.loc 1 173 5 is_stmt 1 view .LVU255
 991              		.loc 1 173 33 is_stmt 0 view .LVU256
 992 00c4 0479     		ldrb	r4, [r0, #4]
 993 00c6 E443     		mvns	r4, r4
 994 00c8 E4B2     		uxtb	r4, r4
 995 00ca E409     		lsrs	r4, r4, #7
 996              		.loc 1 173 28 view .LVU257
 997 00cc 8C74     		strb	r4, [r1, #18]
 174:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.dpad.up =       !packet->classic_controller.buttons.du;
 998              		.loc 1 174 5 is_stmt 1 view .LVU258
 999              		.loc 1 174 33 is_stmt 0 view .LVU259
 1000 00ce 4479     		ldrb	r4, [r0, #5]
 1001 00d0 5440     		eors	r4, r2
 1002 00d2 1C40     		ands	r4, r3
 1003              		.loc 1 174 25 view .LVU260
 1004 00d4 CC74     		strb	r4, [r1, #19]
 175:Middlewares/nunchuk/Src/nunchuk.c ****     cc->buttons.dpad.left =     !packet->classic_controller.buttons.dl;
 1005              		.loc 1 175 5 is_stmt 1 view .LVU261
 1006              		.loc 1 175 33 is_stmt 0 view .LVU262
 1007 00d6 4079     		ldrb	r0, [r0, #5]
 1008              	.LVL66:
 1009              		.loc 1 175 33 view .LVU263
 1010 00d8 4008     		lsrs	r0, r0, #1
 1011 00da 4240     		eors	r2, r0
 1012 00dc 1340     		ands	r3, r2
 1013              		.loc 1 175 27 view .LVU264
 1014 00de 0B75     		strb	r3, [r1, #20]
 176:Middlewares/nunchuk/Src/nunchuk.c **** }...
 1015              		.loc 1 176 1 view .LVU265
 1016              		@ sp needed
 1017 00e0 10BD     		pop	{r4, pc}
 1018              		.cfi_endproc
 1019              	.LFE375:
ARM GAS  /tmp/ccqhUcUe.s 			page 23


 1021              		.section	.text.nunchuk_read_classic,"ax",%progbits
 1022              		.align	1
 1023              		.global	nunchuk_read_classic
 1024              		.syntax unified
 1025              		.code	16
 1026              		.thumb_func
 1028              	nunchuk_read_classic:
 1029              	.LVL67:
 1030              	.LFB371:
  91:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_read_classic(nunchuk_classic_t* cc) {
 1031              		.loc 1 91 63 is_stmt 1 view -0
 1032              		.cfi_startproc
 1033              		@ args = 0, pretend = 0, frame = 8
 1034              		@ frame_needed = 0, uses_anonymous_args = 0
  91:Middlewares/nunchuk/Src/nunchuk.c **** HAL_StatusTypeDef nunchuk_read_classic(nunchuk_classic_t* cc) {
 1035              		.loc 1 91 63 is_stmt 0 view .LVU267
 1036 0000 30B5     		push	{r4, r5, lr}
 1037              	.LCFI13:
 1038              		.cfi_def_cfa_offset 12
 1039              		.cfi_offset 4, -12
 1040              		.cfi_offset 5, -8
 1041              		.cfi_offset 14, -4
 1042 0002 83B0     		sub	sp, sp, #12
 1043              	.LCFI14:
 1044              		.cfi_def_cfa_offset 24
 1045 0004 0500     		movs	r5, r0
  92:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_packet_t packet;
 1046              		.loc 1 92 5 is_stmt 1 view .LVU268
  93:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
 1047              		.loc 1 93 5 view .LVU269
  93:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
 1048              		.loc 1 93 29 is_stmt 0 view .LVU270
 1049 0006 0522     		movs	r2, #5
 1050 0008 6946     		mov	r1, sp
 1051 000a 0020     		movs	r0, #0
 1052              	.LVL68:
  93:Middlewares/nunchuk/Src/nunchuk.c ****     HAL_StatusTypeDef ret = nunchuk_packet_read(NUNCHUK_REPORT_ADDR, &packet, 5);
 1053              		.loc 1 93 29 view .LVU271
 1054 000c FFF7FEFF 		bl	nunchuk_packet_read
 1055              	.LVL69:
 1056 0010 041E     		subs	r4, r0, #0
 1057              	.LVL70:
  95:Middlewares/nunchuk/Src/nunchuk.c ****     if (ret != HAL_OK)
 1058              		.loc 1 95 5 is_stmt 1 view .LVU272
  95:Middlewares/nunchuk/Src/nunchuk.c ****     if (ret != HAL_OK)
 1059              		.loc 1 95 8 is_stmt 0 view .LVU273
 1060 0012 02D0     		beq	.L39
 1061              	.LVL71:
 1062              	.L38:
 100:Middlewares/nunchuk/Src/nunchuk.c **** }
 1063              		.loc 1 100 1 view .LVU274
 1064 0014 2000     		movs	r0, r4
 1065 0016 03B0     		add	sp, sp, #12
 1066              		@ sp needed
 1067              	.LVL72:
 100:Middlewares/nunchuk/Src/nunchuk.c **** }
 1068              		.loc 1 100 1 view .LVU275
ARM GAS  /tmp/ccqhUcUe.s 			page 24


 1069 0018 30BD     		pop	{r4, r5, pc}
 1070              	.LVL73:
 1071              	.L39:
  98:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_fill_classic(&packet, cc);
 1072              		.loc 1 98 5 is_stmt 1 view .LVU276
 1073 001a 2900     		movs	r1, r5
 1074 001c 6846     		mov	r0, sp
 1075              	.LVL74:
  98:Middlewares/nunchuk/Src/nunchuk.c ****     nunchuk_fill_classic(&packet, cc);
 1076              		.loc 1 98 5 is_stmt 0 view .LVU277
 1077 001e FFF7FEFF 		bl	nunchuk_fill_classic
 1078              	.LVL75:
  99:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 1079              		.loc 1 99 5 is_stmt 1 view .LVU278
  99:Middlewares/nunchuk/Src/nunchuk.c ****     return HAL_OK;
 1080              		.loc 1 99 12 is_stmt 0 view .LVU279
 1081 0022 F7E7     		b	.L38
 1082              		.cfi_endproc
 1083              	.LFE371:
 1085              		.section	.rodata.NUNCHUK_GUITAR_HERO_ID,"a"
 1086              		.align	2
 1089              	NUNCHUK_GUITAR_HERO_ID:
 1090 0000 0000A420 		.ascii	"\000\000\244 \001\003"
 1090      0103
 1091              		.section	.rodata.NUNCHUK_CLASSIC_ID,"a"
 1092              		.align	2
 1095              	NUNCHUK_CLASSIC_ID:
 1096 0000 0100A420 		.ascii	"\001\000\244 \001\001"
 1096      0101
 1097              		.section	.rodata.NUNCHUK_STANDARD_ID,"a"
 1098              		.align	2
 1101              	NUNCHUK_STANDARD_ID:
 1102 0000 0000A420 		.ascii	"\000\000\244 \000\000"
 1102      0000
 1103              		.text
 1104              	.Letext0:
 1105              		.file 2 "/usr/arm-none-eabi/include/machine/_default_types.h"
 1106              		.file 3 "/usr/arm-none-eabi/include/sys/_stdint.h"
 1107              		.file 4 "Middlewares/nunchuk/Inc/nunchuk_devices.h"
 1108              		.file 5 "Drivers/CMSIS/Device/ST/STM32G0xx/Include/stm32g0b1xx.h"
 1109              		.file 6 "/usr/lib/gcc/arm-none-eabi/12.1.0/include/stddef.h"
 1110              		.file 7 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_def.h"
 1111              		.file 8 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_dma.h"
 1112              		.file 9 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal_i2c.h"
 1113              		.file 10 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_ll_dma.h"
 1114              		.file 11 "/usr/arm-none-eabi/include/string.h"
 1115              		.file 12 "Core/Inc/i2c.h"
 1116              		.file 13 "Drivers/STM32G0xx_HAL_Driver/Inc/stm32g0xx_hal.h"
ARM GAS  /tmp/ccqhUcUe.s 			page 25


DEFINED SYMBOLS
                            *ABS*:0000000000000000 nunchuk.c
     /tmp/ccqhUcUe.s:19     .text.clamp_input:0000000000000000 $t
     /tmp/ccqhUcUe.s:25     .text.clamp_input:0000000000000000 clamp_input
     /tmp/ccqhUcUe.s:64     .text.nunchuk_reg_write:0000000000000000 $t
     /tmp/ccqhUcUe.s:70     .text.nunchuk_reg_write:0000000000000000 nunchuk_reg_write
     /tmp/ccqhUcUe.s:114    .text.nunchuk_reg_write:0000000000000020 $d
     /tmp/ccqhUcUe.s:119    .text.nunchuk_packet_read:0000000000000000 $t
     /tmp/ccqhUcUe.s:125    .text.nunchuk_packet_read:0000000000000000 nunchuk_packet_read
     /tmp/ccqhUcUe.s:201    .text.nunchuk_packet_read:0000000000000040 $d
     /tmp/ccqhUcUe.s:206    .text.nunchuk_init:0000000000000000 $t
     /tmp/ccqhUcUe.s:212    .text.nunchuk_init:0000000000000000 nunchuk_init
     /tmp/ccqhUcUe.s:341    .text.nunchuk_init:0000000000000084 $d
     /tmp/ccqhUcUe.s:1101   .rodata.NUNCHUK_STANDARD_ID:0000000000000000 NUNCHUK_STANDARD_ID
     /tmp/ccqhUcUe.s:1095   .rodata.NUNCHUK_CLASSIC_ID:0000000000000000 NUNCHUK_CLASSIC_ID
     /tmp/ccqhUcUe.s:1089   .rodata.NUNCHUK_GUITAR_HERO_ID:0000000000000000 NUNCHUK_GUITAR_HERO_ID
     /tmp/ccqhUcUe.s:348    .text.nunchuk_fill_standard:0000000000000000 $t
     /tmp/ccqhUcUe.s:354    .text.nunchuk_fill_standard:0000000000000000 nunchuk_fill_standard
     /tmp/ccqhUcUe.s:453    .text.nunchuk_read_standard:0000000000000000 $t
     /tmp/ccqhUcUe.s:459    .text.nunchuk_read_standard:0000000000000000 nunchuk_read_standard
     /tmp/ccqhUcUe.s:517    .text.nunchuk_fill_guitar_hero:0000000000000000 $t
     /tmp/ccqhUcUe.s:523    .text.nunchuk_fill_guitar_hero:0000000000000000 nunchuk_fill_guitar_hero
     /tmp/ccqhUcUe.s:747    .text.nunchuk_read_guitar_hero:0000000000000000 $t
     /tmp/ccqhUcUe.s:753    .text.nunchuk_read_guitar_hero:0000000000000000 nunchuk_read_guitar_hero
     /tmp/ccqhUcUe.s:811    .text.nunchuk_fill_classic:0000000000000000 $t
     /tmp/ccqhUcUe.s:817    .text.nunchuk_fill_classic:0000000000000000 nunchuk_fill_classic
     /tmp/ccqhUcUe.s:1022   .text.nunchuk_read_classic:0000000000000000 $t
     /tmp/ccqhUcUe.s:1028   .text.nunchuk_read_classic:0000000000000000 nunchuk_read_classic
     /tmp/ccqhUcUe.s:1086   .rodata.NUNCHUK_GUITAR_HERO_ID:0000000000000000 $d
     /tmp/ccqhUcUe.s:1092   .rodata.NUNCHUK_CLASSIC_ID:0000000000000000 $d
     /tmp/ccqhUcUe.s:1098   .rodata.NUNCHUK_STANDARD_ID:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Master_Transmit
hi2c2
HAL_Delay
HAL_I2C_Master_Receive
memcmp
